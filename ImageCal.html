<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Facebook Photo Upload Checker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      box-sizing: border-box;
    }

    h2, h3 {
      margin-bottom: 15px;
    }

    input[type="text"], input[type="number"] {
      padding: 8px;
      width: 100%;
      max-width: 200px;
      box-sizing: border-box;
    }

    .flex-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-bottom: 15px;
    }

    .photo-input {
      flex-direction: column;
      align-items: flex-start;
    }

    .photo-input input {
      max-width: 250px;
    }

    button {
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      font-weight: bold;
      border-radius: 4px;
    }

    #checkPhotos {
      background-color: green;
      color: white;
      margin-top: 10px;
    }

    .submit-btn {
      background-color: #007BFF;
      color: white;
    }

    pre {
      background: #f0f0f0;
      padding: 10px;
      border-radius: 4px;
      white-space: pre-wrap;
    }

    .footer-submit {
      margin-top: 20px;
    }

    @media (max-width: 600px) {
      input[type="text"], input[type="number"] {
        width: 100%;
      }

      button {
        width: 100%;
      }

      .flex-row {
        flex-direction: column;
        align-items: flex-start;
      }

      .photo-input label {
        margin-bottom: 5px;
      }
    }
  </style>
</head>
<body>
  <h2>Facebook Photo Upload Checker</h2>

  <div class="flex-row">
    <label for="minDimension">Minimum dimension (L):</label>
    <input type="number" id="minDimension" />
  </div>

  <div class="flex-row">
    <label for="numPhotos">Number of photos (N):</label>
    <input type="number" id="numPhotos" />
    <button onclick="generateInputs()">Generate Photo Inputs</button>
  </div>

  <div id="photoInputs"></div>

  <button onclick="checkPhotos()" id="checkPhotos">Submit Photos</button>

  <h3>Results:</h3>
  <pre id="output"></pre>

  <div class="footer-submit">
    <button class="submit-btn" onclick="window.location.href='/'">Back to website</button>
  </div>

  <script>
    function generateInputs() {
      const n = parseInt(document.getElementById("numPhotos").value);
      const container = document.getElementById("photoInputs");
      container.innerHTML = "";

      for (let i = 0; i < n; i++) {
        const wrapper = document.createElement("div");
        wrapper.className = "photo-input flex-row";

        const label = document.createElement("label");
        label.textContent = `Photo ${i + 1} (W H):`;

        const input = document.createElement("input");
        input.type = "text";
        input.placeholder = "e.g. 640 480";
        input.id = `photo-${i}`;

        wrapper.appendChild(label);
        wrapper.appendChild(input);
        container.appendChild(wrapper);
      }
    }

    function checkPhotos() {
      const L = parseInt(document.getElementById("minDimension").value);
      const N = parseInt(document.getElementById("numPhotos").value);
      const output = document.getElementById("output");
      output.textContent = "";

      for (let i = 0; i < N; i++) {
        const val = document.getElementById(`photo-${i}`).value.trim();
        const parts = val.split(" ").filter(Boolean);

        if (parts.length !== 2 || isNaN(parts[0]) || isNaN(parts[1])) {
          output.textContent += `Photo ${i + 1}: Invalid input! Please enter exactly 2 numbers (W H)\n`;
          continue;
        }

        const [W, H] = parts.map(Number);

        if (W < L || H < L) {
          output.textContent += "UPLOAD ANOTHER\n";
        } else if (W === H) {
          output.textContent += "ACCEPTED\n";
        } else {
          output.textContent += "CROP IT\n";
        }
      }
    }
  </script>
</body>
</html>
